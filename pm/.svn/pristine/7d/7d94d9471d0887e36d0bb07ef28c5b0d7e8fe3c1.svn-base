package com.cninsure.payment.dao;

import java.util.List;
import java.util.Map;

import com.cninsure.core.dao.BaseDao;
import com.cninsure.payment.entity.PMPayment;
import com.cninsure.payment.entity.Transaction1810;
import com.cninsure.payment.model.AppCheckModel;
import com.cninsure.payment.model.OrdersDetailModel;
import com.cninsure.payment.model.PlatformModel;

public interface PMPaymentDao extends BaseDao<PMPayment,Long> {

	long getOrdersListCount(Map<String, Object> map);

	List<Map<Object, Object>> selectOrdersList(Map<String, Object> map);

	String getForMoneys(PlatformModel platformBean);
	String getOutMoneys(PlatformModel platformBean);

	long getPlatformListCount(Map<String, Object> map);

	List<Map<Object, Object>> selectPlatformList(Map<String, Object> map);

	/**
	 * 更新支付状态为成功支付保存验证码
	 * 
	 * @param payProtocolid
	 * @param verifycode
	 * @return
	 */
	public int updatePaySuccessByPayProtocol(String payProtocolid,String verifycode);
	
	/**
	 * 更新支付流水号为null支付状态为未支付
	 * @param payProtocolid
	 * @return
	 */
	public int updatePayProtocolNullByPayProtocol(String payProtocolid);
	
	/**
	 * 根据绑定流水号更新支付流水号
	 * 
	 * @param payProtocol
	 * @param protocol
	 * @return
	 */
	public int updatePayProtocolByProtocol(String payProtocol,String protocol);
	
	
	/**
	 * 回写订单信息
	 * 
	 * @param paymentPlatformId 支付平台Id
	 * @param bankCardId 绑卡信息Id
	 * @param protocol 绑卡流水号
	 * 
	 * @param id 订单信息Id
	 * @return
	 */
	public int updatePaymentDataById(long paymentPlatformId,long appId,long bankCardId,String protocol,long id);
	
	/**
	 *  更新支付流水号
	 *  
	 * @param payProtocol
	 * @param id
	 * @return
	 */
	public int updatePayProtocolById(String payProtocol,long id);
	
	/**
	 * 通过交易流水号查询订单主表信息
	 * 
	 * @param payProtocol
	 * @return
	 */
	public PMPayment selectByPayProtocol(String payProtocol);
	
	/**
     * 通过支付流水号更新订单信息
     * 
     * @param record
     * @return
     */
    public int updateByPayProtocolIdSelective(PMPayment record);
    
    
	long getAppPlatformListCount(Map<String, Object> map);

	List<Map<Object, Object>> selectAppPlatformList(Map<String, Object> map);

	String getForMoneys(AppCheckModel appCheckBean);
	String getOutMoneys(AppCheckModel appCheckBean);

	long getAppOrdersListCount(Map<String, Object> map);

	List<Map<Object, Object>> selectAppOrdersList(Map<String, Object> map);

	List<Map<String, Object>> getPaymentReconList(Map<String, Object> map);

	List<Map<String, Object>> getTransaction1810List(Map<String, Object> map);

	int insertTran1810(List<Transaction1810> listtran);

	List<Map<String, Object>> getPaymentReconDetailList(Map<String, Object> map);

	PMPayment getBasicMess(String paymentId);

	long getAllOrdersListCount(Map<String, Object> map);

	List<Map<Object, Object>> selectAllOrdersList(Map<String, Object> map);

	OrdersDetailModel selectOrdersDetailById(String valueOf);
	/**
	 * 根据订单id得到订单的绑卡验证码
	 * @param paymentId
	 * @return
	 */
	public String getVerifyCode(String paymentId);

	List<Map<Object, Object>> selectDirectPayment2011List(Map<String, Object> map);

	long selectDirectPayment2011ListCount(Map<String, Object> map);

	List<Map<Object, Object>> selectSettlePayment1361List(Map<String, Object> map);

	long selectSettlePayment1361ListCount(Map<String, Object> map);

	long selectSettleProduct1341ListCount(Map<String, Object> map);

	List<Map<Object, Object>> selectSettleProduct1341List(Map<String, Object> map);

}