package com.cninsure.payment.controller.platform;

import java.util.List;

import javax.annotation.Resource;

import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;
import org.springframework.web.bind.annotation.ResponseBody;

import com.cninsure.core.utils.BeanUtils;
import com.cninsure.payment.model.BaseModel;
import com.cninsure.payment.model.CustomAccountModel;
import com.cninsure.payment.model.CustomBillModel;
import com.cninsure.payment.service.PMAPPcustomService;
import com.cninsure.payment.service.PMAPPcustombillService;
import com.cninsure.payment.service.PMAPPcustomcardService;

@Controller
@RequestMapping("/wallet/")
public class WalletController {

	@Resource
	private PMAPPcustomService customService;

	@Resource
	private PMAPPcustombillService customBillService;

	@Resource
	private PMAPPcustomcardService customCardService;

	@RequestMapping(value = "assetProfile", method = RequestMethod.POST)
	@ResponseBody
	public BaseModel queryAccountProfile(CustomAccountModel customAccountModel)
	{
		BaseModel baseModel = new BaseModel();
		CustomAccountModel customAccount = customService.getAccountProfile(BeanUtils.toMap(customAccountModel));
		baseModel.setStatus("OK");
		baseModel.setMessage("SUCCESS");
		baseModel.setResult(customAccount);
		return baseModel;
	}

	@RequestMapping(value = "accountBill", method = RequestMethod.POST)
	@ResponseBody
	public BaseModel queryAccountBill(CustomBillModel customBillModel)
	{
		BaseModel baseModel = new BaseModel();
		List<CustomBillModel> bills = customBillService.queryAccountBill(BeanUtils.toMap(customBillModel));
		baseModel.setStatus("OK");
		baseModel.setMessage("SUCCESS");
		baseModel.setResult(bills);
		return baseModel;
	}

}
