package com.cninsure.payment.dao;


import java.util.ArrayList;
import java.util.List;

import javax.annotation.Resource;

import org.junit.Test;
import org.junit.runner.RunWith;
import org.springframework.test.context.ContextConfiguration;
import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;
import org.springframework.test.context.web.WebAppConfiguration;
import org.springframework.transaction.annotation.Transactional;

import com.alibaba.fastjson.JSON;
import com.cninsure.payment.entity.PMPayment;
import com.cninsure.payment.model.OrderDetail4ActionModel;
import com.cninsure.payment.model.PMProductsModel;

@RunWith(SpringJUnit4ClassRunner.class)
@WebAppConfiguration(value = "src/main/webapp")
@ContextConfiguration(locations = { "classpath:config/spring-config.xml",
		"classpath:config/spring-security-config.xml",
		"classpath:config/spring-mvc-config.xml",
		"classpath:config/spring-config-db.xml", })
@Transactional(rollbackForClassName="PmappchannelDaoTest")
public class PmappchannelDaoTest {

	@Resource
	private PMPaymentDao dao;
	
//	@Test
//    public void testInsert(){
//		PMAppchannel record = new PMAppchannel();
//    	record.setAppId(111L);
//    	record.setCreatedate(new Date());
//    	record.setModifydate(new Date());
//    	record.setChannelId(111L);
//    	record.setAppId(111111L);
//    	dao.insert(record);
//    }
	
	@Test
	public void testSelectById(){
		PMPayment query = new PMPayment();
		query.setProtocolid("DBEBFC2E33D0A6BF053DCCA66BA5FB1E");
		PMPayment paymentModel = dao.selectOne(query);
		System.out.println(paymentModel);
		
		
	}
	
	public static void main(String[] args) {
		List<PMProductsModel> products = new ArrayList<PMProductsModel>();
		PMProductsModel productModel1 = new PMProductsModel();
		productModel1.setAppOrderId("111111");
		productModel1.setOrderfee(300);
		
		PMProductsModel productModel2 = new PMProductsModel();
		productModel2.setAppOrderId("222222");
		productModel2.setOrderfee(500);
		
		products.add(productModel1);
		products.add(productModel2);
		
		OrderDetail4ActionModel orderModel = new OrderDetail4ActionModel();
		orderModel.setAppId(11L);
		orderModel.setAppUserId("654321");
		orderModel.setAppUserName("张三");
		orderModel.setIdcard("0000000000000");
		orderModel.setOrderdatetime("20160808");
		orderModel.setOrderfee(400);
		orderModel.setOrderid("123456789");
		orderModel.setPayType("1");
		orderModel.setProducts(products);
		
		String aa = JSON.toJSONString(orderModel);
		System.out.println(aa);
	}

}