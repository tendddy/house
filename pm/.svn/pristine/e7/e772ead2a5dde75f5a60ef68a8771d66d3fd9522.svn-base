package com.cninsure.system.dao;

import java.util.Date;

import javax.annotation.Resource;

import org.junit.Assert;
import org.junit.Test;
import org.junit.runner.RunWith;
import org.springframework.test.context.ContextConfiguration;
import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;
import org.springframework.test.context.web.WebAppConfiguration;
import org.springframework.transaction.annotation.Transactional;

import com.cninsure.system.entity.INSCCode;



@RunWith(SpringJUnit4ClassRunner.class)
@WebAppConfiguration(value = "src/main/webapp")
@ContextConfiguration(locations = { "classpath:config/spring-config.xml",
		"classpath:config/spring-security-config.xml",
		"classpath:config/spring-mvc-config.xml",
		"classpath:config/spring-config-db.xml", })
@Transactional(rollbackForClassName={"INSCCodeDaoTest"})
public class INSCCodeDaoTest  {

	@Resource 
	private INSCCodeDao dao;
	
	
	@Test
	public void testInsert(){
		INSCCode insccode = new INSCCode();
		insccode.setCodename("zhangTest");
		insccode.setCodeorder(1);
		insccode.setCodetype("uu");
		insccode.setParentcode("aaa");
		insccode.setCodevalue("22222");
		insccode.setCreatetime(new Date());
		insccode.setOperator("zhang");
		
		dao.insert(insccode);
		Assert.assertEquals("14", insccode.getId());
	}
}