<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.cninsure.system.entity">
	<!-- INSCCode -->
	<insert id="INSCCode_insert"  useGeneratedKeys="true" keyProperty="id" parameterType="com.cninsure.system.entity.INSCCode">
		insert into INSCCode
		(operator,createtime,modifytime,noti,codetype,parentcode,codevalue,codename,codeorder,prop1,prop2,prop3,prop4) 
		values
		(#{operator},#{createtime},#{modifytime},#{noti},#{codetype},#{parentcode},#{codevalue},#{codename},#{codeorder},#{prop1},#{prop2},#{prop3},#{prop4}) 
	</insert>
	<select id="INSCCode_select" parameterType="Map" resultType="com.cninsure.system.entity.INSCCode">
		select * from INSCCode
		<where>
			<if test="codetype != null">
				and codetype = #{codetype}
			</if>
			<if test="parentcode != null">
				and parentcode = #{parentcode}
			</if>
			<if test="codevalue != null">
				and codevalue = #{codevalue}
			</if>
			<if test="codename != null">
				and codename = #{codename}
			</if>
			<if test="codeorder != null">
				and codeorder = #{codeorder}
			</if>
			<if test="prop1 != null">
				and prop1 = #{prop1}
			</if>
			<if test="prop2 != null">
				and prop2 = #{prop2}
			</if>
			<if test="prop3 != null">
				and prop3 = #{prop3}
			</if>
			<if test="prop4 != null">
				and prop4 = #{prop4}
			</if>
		</where>
	</select>
	<select id="INSCCode_selectOne" parameterType="Map" resultType="com.cninsure.system.entity.INSCCode">
		select * from INSCCode
		<where>
			<if test="codetype != null">
				and codetype = #{codetype}
			</if>
			<if test="parentcode != null">
				and parentcode = #{parentcode}
			</if>
			<if test="codevalue != null">
				and codevalue = #{codevalue}
			</if>
			<if test="codename != null">
				and codename = #{codename}
			</if>
			<if test="codeorder != null">
				and codeorder = #{codeorder}
			</if>
			<if test="prop1 != null">
				and prop1 = #{prop1}
			</if>
			<if test="prop2 != null">
				and prop2 = #{prop2}
			</if>
			<if test="prop3 != null">
				and prop3 = #{prop3}
			</if>
			<if test="prop4 != null">
				and prop4 = #{prop4}
			</if>
		</where>
		LIMIT 2
	</select>
	
	<select id="INSCCode_selectById" parameterType="String" resultType="com.cninsure.system.entity.INSCCode">
		select * from INSCCode where id = #{id}
	</select>
	
	<select id="INSCCode_seelctByOrderStatus" parameterType="Map" resultType="String">
		select prop2 from INSCCode where parentcode='workflowNodelName' and codetype='orderStatus' and codevalue=#{orderStatus}
	</select>
	
	<select id="INSCCode_selectWorkflowNodeNameByValue" parameterType="String" resultType="Map">
		select codename from INSCCode where codetype='workflowNodelName' and parentcode='workflowNodelName' and  codevalue = #{codevalue} 
	</select>
	<select id="INSCCode_selectMyTaskCode" parameterType="String" resultType="Map">
		select codevalue,codename from INSCCode 
			<where>
			<if test="codetype != null">
				and codetype = #{codetype}
			</if>
			<if test="parentcode != null">
				and parentcode = #{parentcode}
			</if>
			<if test="codetype == 'workflowNodelName'">
				 and  codevalue  in(24,23,21,18,8,12,7,6,20,25,26,27)
			</if>
		</where>
	</select>
	
	<select id="INSCCode_selectByCodeName" parameterType="Map" resultType="String">
		select codevalue from INSCCode where codetype=#{codetype}  and  codename = #{codename} 
	</select>
	
	<select id="INSCCode_selectByType" parameterType="String" resultType="Map">
	select id,codevalue,codename from INSCCode where codetype =#{codetype}  order by codeorder
	</select>
	
	<select id="INSCCode_deleteById" parameterType="String">
		delete from INSCCode where id = #{id}
	</select>
	<select id="INSCCode_updateById" parameterType="com.cninsure.system.entity.INSCCode">
		update INSCCode  set operator = #{operator},modifytime = #{modifytime},noti = #{noti},codetype = #{codetype},parentcode = #{parentcode},codevalue = #{codevalue},codename = #{codename},codeorder = #{codeorder},prop1 = #{prop1},prop2 = #{prop2},prop3 = #{prop3},prop4 = #{prop4} where id = #{id}
	</select>
	<select id="INSCCode_selectCount" parameterType="Map" resultType="Long">
		select count(1) from INSCCode
		<where>
			<if test="codetype != null">
				and codetype = #{codetype}
			</if>
			<if test="parentcode != null">
				and parentcode = #{parentcode}
			</if>
			<if test="codevalue != null">
				and codevalue = #{codevalue}
			</if>
			<if test="codename != null">
				and codename = #{codename}
			</if>
			<if test="codeorder != null">
				and codeorder = #{codeorder}
			</if>
			<if test="prop1 != null">
				and prop1 = #{prop1}
			</if>
			<if test="prop2 != null">
				and prop2 = #{prop2}
			</if>
			<if test="prop3 != null">
				and prop3 = #{prop3}
			</if>
			<if test="prop4 != null">
				and prop4 = #{prop4}
			</if>
		</where>
	</select>
</mapper>