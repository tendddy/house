<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.cninsure.payment.entity">
  <resultMap id="PMPaychannelMap" type="com.cninsure.payment.entity.PMPaychannel" >
    <id column="id" property="id" jdbcType="BIGINT" />
    <result column="createdate" property="createdate" jdbcType="TIMESTAMP" />
    <result column="modifydate" property="modifydate" jdbcType="TIMESTAMP" />
    <result column="payment_id" property="paymentId" jdbcType="BIGINT" />
    <result column="channel_type" property="channelType" jdbcType="CHAR" />
    <result column="channel_name" property="channelName" jdbcType="VARCHAR" />
    <result column="channel_code" property="channelCode" jdbcType="VARCHAR" />
    <result column="channel_logo" property="channelLogo" jdbcType="VARCHAR" />
    <result column="arrival_time" property="arrivalTime" jdbcType="INTEGER" />
    <result column="status" property="status" jdbcType="CHAR" />
  </resultMap>
	<!-- PMPaychannel -->
	<resultMap id="PMPaychannelModelResultMap" type="com.cninsure.payment.model.PMPaychannelModel" >
	    <id column="id" property="id" jdbcType="BIGINT" />
	    <result column="payment_id" property="paymentId" jdbcType="BIGINT" />
	    <result column="channel_type" property="channelType" jdbcType="CHAR" />
	    <result column="channel_name" property="channelName" jdbcType="VARCHAR" />
	    <result column="channel_code" property="channelCode" jdbcType="VARCHAR" />
	    <result column="channel_logo" property="channelLogo" jdbcType="VARCHAR" />
	    <result column="max_quota_per_time" property="maxQuotaPerTime" jdbcType="BIGINT" />
	    <result column="max_quota_per_day" property="maxQuotaPerDay" jdbcType="BIGINT" />
	  </resultMap>
	<insert id="PMPaychannel_insert" useGeneratedKeys="true" keyProperty="id"  parameterType="com.cninsure.payment.entity.PMPaychannel">
		insert into PMPaychannel
		(createdate,modifydate,payment_id,channel_type,channel_name,channel_code,channel_logo,arrival_time,status) 
		values
		(#{createdate, jdbcType=TIMESTAMP},#{modifydate, jdbcType=TIMESTAMP},#{paymentId, jdbcType=BIGINT},#{channelType, jdbcType=CHAR},#{channelName, jdbcType=VARCHAR},#{channelCode, jdbcType=VARCHAR},#{channelLogo, jdbcType=VARCHAR},#{arrivalTime, jdbcType=INTEGER},#{status, jdbcType=CHAR}) 
	</insert>
	<select id="PMPaychannel_select" parameterType="Map" resultMap="PMPaychannelMap">
		select * from PMPaychannel
		<where>
			<if test="id != null">
				and id = #{id, jdbcType=BIGINT}
			</if>
			<if test="createdate != null">
				and createdate = #{createdate, jdbcType=TIMESTAMP}
			</if>
			<if test="modifydate != null">
				and modifydate = #{modifydate, jdbcType=TIMESTAMP}
			</if>
			<if test="paymentId != null">
				and payment_id = #{paymentId, jdbcType=BIGINT}
			</if>
			<if test="channelType != null">
				and channel_type = #{channelType, jdbcType=CHAR}
			</if>
			<if test="channelName != null">
				and channel_name = #{channelName, jdbcType=VARCHAR}
			</if>
			<if test="channelCode != null">
				and channel_code = #{channelCode, jdbcType=VARCHAR}
			</if>
			<if test="channelLogo != null">
				and channel_logo = #{channelLogo, jdbcType=VARCHAR}
			</if>
			<if test="arrivalTime != null">
				and arrival_time = #{arrivalTime, jdbcType=INTEGER}
			</if>
			<if test="status != null">
				and status = #{status, jdbcType=CHAR}
			</if>
		</where>
	</select>
	<select id="PMPaychannel_selectById" parameterType="Long" resultMap="PMPaychannelMap">
		select * from PMPaychannel where id = #{id}
	</select>
	<select id="PMPaychannel_deleteById" parameterType="Long">
		delete from PMPaychannel where id = #{id}
	</select>
	<select id="PMPaychannel_updateById" parameterType="com.cninsure.payment.entity.PMPaychannel">
		update PMPaychannel  set id = #{id, jdbcType=BIGINT},createdate = #{createdate, jdbcType=TIMESTAMP},modifydate = #{modifydate, jdbcType=TIMESTAMP},payment_id = #{paymentId, jdbcType=BIGINT},channel_type = #{channelType, jdbcType=CHAR},channel_name = #{channelName, jdbcType=VARCHAR},channel_code = #{channelCode, jdbcType=VARCHAR},channel_logo = #{channelLogo, jdbcType=VARCHAR},arrival_time = #{arrivalTime, jdbcType=INTEGER},status = #{status, jdbcType=CHAR} where id = #{id}
	</select>
	<select id="PMPaychannel_selectCount" parameterType="Map" resultType="Long">
		select count(1) from PMPaychannel
		<where>
			<if test="id != null">
				and id = #{id, jdbcType=BIGINT}
			</if>
			<if test="createdate != null">
				and createdate = #{createdate, jdbcType=TIMESTAMP}
			</if>
			<if test="modifydate != null">
				and modifydate = #{modifydate, jdbcType=TIMESTAMP}
			</if>
			<if test="paymentId != null">
				and payment_id = #{paymentId, jdbcType=BIGINT}
			</if>
			<if test="channelType != null">
				and channel_type = #{channelType, jdbcType=CHAR}
			</if>
			<if test="channelName != null">
				and channel_name = #{channelName, jdbcType=VARCHAR}
			</if>
			<if test="channelCode != null">
				and channel_code = #{channelCode, jdbcType=VARCHAR}
			</if>
			<if test="channelLogo != null">
				and channel_logo = #{channelLogo, jdbcType=VARCHAR}
			</if>
			<if test="arrivalTime != null">
				and arrival_time = #{arrivalTime, jdbcType=INTEGER}
			</if>
			<if test="status != null">
				and status = #{status, jdbcType=CHAR}
			</if>
		</where>
	</select>
	<select id="PMPaychannel_selectOne" parameterType="Map" resultMap="PMPaychannelMap">
		select * from PMPaychannel
		<where>
			<if test="id != null">
				and id = #{id, jdbcType=BIGINT}
			</if>
			<if test="createdate != null">
				and createdate = #{createdate, jdbcType=TIMESTAMP}
			</if>
			<if test="modifydate != null">
				and modifydate = #{modifydate, jdbcType=TIMESTAMP}
			</if>
			<if test="paymentId != null">
				and payment_id = #{paymentId, jdbcType=BIGINT}
			</if>
			<if test="channelType != null">
				and channel_type = #{channelType, jdbcType=CHAR}
			</if>
			<if test="channelName != null">
				and channel_name = #{channelName, jdbcType=VARCHAR}
			</if>
			<if test="channelCode != null">
				and channel_code = #{channelCode, jdbcType=VARCHAR}
			</if>
			<if test="channelLogo != null">
				and channel_logo = #{channelLogo, jdbcType=VARCHAR}
			</if>
			<if test="arrivalTime != null">
				and arrival_time = #{arrivalTime, jdbcType=INTEGER}
			</if>
			<if test="status != null">
				and status = #{status, jdbcType=CHAR}
			</if>
		</where>
		LIMIT 2
	</select>
	<select id="PMPaychannel_getUploadPath" parameterType="String" resultType="String">
		select CODECODE from codemanage
		<where>
			<if test="_parameter != null and _parameter != ''">
				and CODETYPE = #{_parameter, jdbcType=VARCHAR}
			</if>
		</where>
	</select>
	
	<insert id="PMPaychannel_savePayChannel" parameterType="com.cninsure.payment.entity.PMPaychannel" useGeneratedKeys="true" keyProperty="id" >
		INSERT INTO `pmpaychannel` (`createdate`, `modifydate`, `payment_id`, `channel_type`, `channel_name`, `channel_code`,
		 `channel_logo` , `status`) VALUES (sysdate(),sysdate(),#{paymentId, jdbcType=BIGINT},#{channelType, jdbcType=VARCHAR},
		 #{channelName, jdbcType=VARCHAR},#{channelCode, jdbcType=VARCHAR},#{channelLogo, jdbcType=VARCHAR}
		 ,#{status, jdbcType=CHAR})
	</insert>
	<insert id="PMPaychannel_savePayChannelLmit" parameterType="com.cninsure.payment.entity.PMPaychannellmit" useGeneratedKeys="true" keyProperty="id" >
		INSERT INTO `pmpaychannellmit` (`createdate`, `modifydate`, `pay_channel_id`, `max_quota_per_time`, `max_quota_per_day`, `card_type`,
		`status`,`settlement_interval`) VALUES (
		sysdate(),sysdate(),#{payChannelId, jdbcType=BIGINT},#{maxQuotaPerTime, jdbcType=INTEGER},
		 #{maxQuotaPerDay, jdbcType=INTEGER},#{cardType, jdbcType=CHAR},#{status, jdbcType=CHAR},#{settlementInterval, jdbcType=CHAR})
	</insert>
	<insert id="PMPaychannel_saveImageInfo" parameterType="com.cninsure.payment.entity.PMImage">
		INSERT INTO `pmimage` (`createdate`, `modifydate`, `object_type`, `object_id`, `path`, `name`, `old_name`, `size`, `type`, `status`) VALUES (
		sysdate(),sysdate(),#{objectType, jdbcType=INTEGER},#{objectId, jdbcType=BIGINT},#{path, jdbcType=VARCHAR},#{name, jdbcType=VARCHAR},
		#{oldName, jdbcType=VARCHAR},#{size, jdbcType=INTEGER},#{type, jdbcType=VARCHAR},#{status, jdbcType=CHAR})
	</insert>
	
	<select id="PMPaychannel_getPaymentId" parameterType="String" resultType="Map">
		select * from PMPaymentPlatform where status = '0'
			<if test="_parameter != null and _parameter != ''">
				and platform_no = #{_parameter, jdbcType=VARCHAR}
			</if>
	</select>
	<select id="PMPaychannel_queryChannelsByPaymentId" resultMap="PMPaychannelModelResultMap" parameterType="long">
		select pc.*,
		pcl.max_quota_per_time as max_quota_per_time,
		pcl.max_quota_per_day as max_quota_per_day
		from PMPaychannel pc left join pmpaychannellmit pcl on pc.id=pcl.pay_channel_id
		<where>
			payment_id =#{payment}
		</where>
	</select>
	<select id="PMPaychannel_getConfigListCount" resultType="long" parameterType="Map">
		select count(1) 
			from pmpaychannel p left join pmpaychannellmit pl on pl.pay_channel_id=p.id 
		<where>
		pl.status='0'
			<if test="payment_id != null and payment_id != ''">
				and p.payment_id = #{payment_id, jdbcType=VARCHAR}
			</if>
			<if test="channel_name != null and channel_name != ''">
				and p.channel_name like concat('%',#{channel_name},'%')  
			</if>
			<if test="card_type != null and card_type != ''">
				and pl.card_type = #{card_type, jdbcType=VARCHAR}
			</if>
		</where>
	</select>
	<select id="PMPaychannel_selectConfigList" resultType="Map" parameterType="Map">
		select p.id,p.payment_id,p.channel_type,p.channel_code,p.channel_name,p.channel_logo,
			 p.`status`,pl.card_type,pl.max_quota_per_day,pl.max_quota_per_time 
			from pmpaychannel p left join pmpaychannellmit pl on pl.pay_channel_id=p.id 
		<where>
			pl.status='0'
			<if test="payment_id != null and payment_id != ''">
				and p.payment_id = #{payment_id, jdbcType=VARCHAR}
			</if>
			<if test="channel_name != null and channel_name != ''">
				and p.channel_name like concat('%',#{channel_name},'%')  
			</if>
			<if test="card_type != null and card_type != ''">
				and pl.card_type = #{card_type, jdbcType=VARCHAR}
			</if>
		</where>
		<if test="sort != null and order != null">
			order by ${sort}  ${order}
		</if>
		<if test="sort == null">
			order by p.createdate desc
		</if>
		limit #{offset},#{limit}
	</select>
	<select id="PMPaychannel_updatePayChannel" parameterType="com.cninsure.payment.entity.PMPaychannel" resultType="int">
		UPDATE pmpaychannel SET  `modifydate`=SYSDATE(), `payment_id`=#{paymentId, jdbcType=BIGINT}, `channel_type`=#{channelType, jdbcType=VARCHAR},
		 `channel_name`=#{channelName, jdbcType=VARCHAR},`channel_code`=#{channelCode, jdbcType=VARCHAR},
		  <if test="channelLogo != null and channelLogo != ''">
				`channel_logo`=#{channelLogo, jdbcType=VARCHAR},
			</if>
		  `arrival_time`=#{arrivalTime, jdbcType=INTEGER}, `status`=#{status, jdbcType=CHAR}
		  WHERE `id`=#{id, jdbcType=BIGINT}

	</select>
	<select id="PMPaychannel_updateChannelLmit" parameterType="com.cninsure.payment.entity.PMPaychannellmit" resultType="int">
			UPDATE pmpaychannellmit SET  `modifydate`=SYSDATE(), `max_quota_per_time`=#{maxQuotaPerTime, jdbcType=INTEGER}, 
			`max_quota_per_day`=#{maxQuotaPerDay, jdbcType=INTEGER},`card_type`=#{cardType, jdbcType=CHAR} ,`status`=#{status, jdbcType=CHAR},
			`settlement_interval`=#{settlementInterval, jdbcType=CHAR}
			WHERE `pay_channel_id`=#{payChannelId, jdbcType=BIGINT} and `card_type`=#{cardType, jdbcType=CHAR}
	</select>
	<select id="PMPaychannel_updateImageInfo" parameterType="com.cninsure.payment.entity.PMImage" resultType="int">
		UPDATE pmimage SET `modifydate`=SYSDATE(), `object_type`=#{objectType, jdbcType=INTEGER}, 
			 `path`=#{path, jdbcType=VARCHAR}, `name`=#{name, jdbcType=VARCHAR}, `old_name`=#{oldName, jdbcType=VARCHAR},
			  `size`=#{size, jdbcType=INTEGER}, `type`=#{type, jdbcType=VARCHAR}, `status`=#{status, jdbcType=CHAR} 
			  WHERE `object_id`=#{objectId, jdbcType=BIGINT} and object_type=#{objectType, jdbcType=INTEGER} 
	</select>
	<insert id="PMPaychannel_back_paychannel" parameterType="com.cninsure.payment.entity.PMPaychannel">
		insert into pmpaychannelbak (`id`,`createdate`, `modifydate`, `payment_id`, `channel_type`, `channel_name`, `channel_code`,
		 `channel_logo`, `arrival_time`, `status`) select  `id`,sysdate(), `modifydate`, `payment_id`, `channel_type`, `channel_name`, `channel_code`,
		 `channel_logo`, `arrival_time`, `status` from  pmpaychannel where id=#{id, jdbcType=BIGINT}
	</insert>
	<insert id="PMPaychannel_back_paychannellmit" parameterType="com.cninsure.payment.entity.PMImage">
		insert into pmpaychannellmitbak (`id`,`createdate`, `modifydate`, `pay_channel_id`, `max_quota_per_time`, `max_quota_per_day`, `card_type`,`settlement_interval`) 
		select  `id`,sysdate(), `modifydate`, `pay_channel_id`, `max_quota_per_time`, `max_quota_per_day`, `card_type`,`settlement_interval` from  pmpaychannellmit 
		where `pay_channel_id`=#{payChannelId, jdbcType=BIGINT} and `card_type`=#{cardType, jdbcType=CHAR}
	</insert>
	<select id="PMPaychannel_selectBankList" resultType="Map" parameterType="String">
		select p.id,p.payment_id,p.channel_type,p.channel_code,p.channel_name,p.channel_logo,
		pl0.card_type as card_type0,pl0.max_quota_per_day as max_quota_per_day0,pl0.max_quota_per_time as max_quota_per_time0,pl0.`status` as status0,pl0.`settlement_interval` as settlementInterval0,pl0.`id` as lmitid0,
		pl1.card_type as card_type1,pl1.max_quota_per_day as max_quota_per_day1,pl1.max_quota_per_time as max_quota_per_time1,pl1.`status` as status1,pl1.`settlement_interval` as settlementInterval1,pl1.`id` as lmitid1
			from pmpaychannel p 
		left join pmpaychannellmit pl0 on pl0.pay_channel_id=p.id and pl0.card_type='0'
 		left join pmpaychannellmit pl1 on pl1.pay_channel_id=p.id and pl1.card_type='1'
		<where>
			<if test="_parameter != null and _parameter != ''">
				and p.payment_id = #{_parameter, jdbcType=VARCHAR}
			</if>
		</where>
		order by p.channel_code
	</select>
	<select id="PMPaychannel_selectBankInfo" resultType="com.cninsure.payment.model.AcccimModel" parameterType="com.cninsure.payment.model.AcccimModel">
		select p.id,p.payment_id,p.channel_type,p.channel_code,p.channel_name,p.channel_logo,
		pl0.card_type as card_type0,pl0.max_quota_per_day as max_quota_per_day0,pl0.max_quota_per_time as max_quota_per_time0,pl0.`status` as status0,pl0.`settlement_interval` as settlementInterval0,pl0.`id` as lmitid0,
		pl1.card_type as card_type1,pl1.max_quota_per_day as max_quota_per_day1,pl1.max_quota_per_time as max_quota_per_time1,pl1.`status` as status1,pl1.`settlement_interval` as settlementInterval1,pl1.`id` as lmitid1
			from pmpaychannel p 
		left join pmpaychannellmit pl0 on pl0.pay_channel_id=p.id and pl0.card_type='0'
 		left join pmpaychannellmit pl1 on pl1.pay_channel_id=p.id and pl1.card_type='1'
		<where>
			<if test="id != null and id != ''">
				and p.id = #{id, jdbcType=BIGINT}
			</if>
		</where>
	</select>
	
	
	
	<insert id="PMPaychannel_back_bank" parameterType="com.cninsure.payment.model.AcccimModel">
		insert into pmpaychannelbak (`id`,`createdate`, `modifydate`, `payment_id`, `channel_type`, `channel_name`, `channel_code`,
		 `channel_logo`, `arrival_time`, `status`) select  `id`,sysdate(), `modifydate`, `payment_id`, `channel_type`, `channel_name`, `channel_code`,
		 `channel_logo`, `arrival_time`, `status` from  pmpaychannel where id=#{id, jdbcType=BIGINT}
	</insert>
	<insert id="PMPaychannel_back_lmit" parameterType="com.cninsure.payment.model.AcccimModel">
		insert into pmpaychannellmitbak (`id`,`createdate`, `modifydate`, `pay_channel_id`, `max_quota_per_time`, `max_quota_per_day`, `card_type`,`settlement_interval`) 
		select  `id`,sysdate(), `modifydate`, `pay_channel_id`, `max_quota_per_time`, `max_quota_per_day`, `card_type`,`settlement_interval` from  pmpaychannellmit 
		where `pay_channel_id`=#{id, jdbcType=BIGINT}  
	</insert>
	<select id="PMPaychannel_deleteBankImage" parameterType="com.cninsure.payment.model.AcccimModel" resultType="int">
		UPDATE pmimage SET `modifydate`=SYSDATE(), `status`='2'
			  WHERE `object_id`=#{id, jdbcType=BIGINT} and object_type='2'
	</select>
	<select id="PMPaychannel_deleteBankInfo" parameterType="com.cninsure.payment.model.AcccimModel">
		delete from pmpaychannel where id=#{id, jdbcType=BIGINT}
	</select>
	<select id="PMPaychannel_deleteBankLmit" parameterType="com.cninsure.payment.model.AcccimModel">
		delete from pmpaychannellmit where `pay_channel_id`=#{id, jdbcType=BIGINT}  
	</select>
	
	<select id="PMPaychannel_selectBankDiv" resultType="Map" parameterType="com.cninsure.payment.model.AcccimModel">
		select p.id,p.payment_id,p.channel_type,p.channel_code,p.channel_name,p.channel_logo,
		pl0.card_type as card_type0,pl0.max_quota_per_day as max_quota_per_day0,pl0.max_quota_per_time as max_quota_per_time0,pl0.`status` as status0,pl0.`settlement_interval` as settlementInterval0,pl0.`id` as lmitid0,
		pl1.card_type as card_type1,pl1.max_quota_per_day as max_quota_per_day1,pl1.max_quota_per_time as max_quota_per_time1,pl1.`status` as status1,pl1.`settlement_interval` as settlementInterval1,pl1.`id` as lmitid1
			from pmpaychannel p 
		left join pmpaychannellmit pl0 on pl0.pay_channel_id=p.id and pl0.card_type='0'
 		left join pmpaychannellmit pl1 on pl1.pay_channel_id=p.id and pl1.card_type='1'
		<where>
			<if test="paymentId != null and paymentId != ''">
				and p.payment_id = #{paymentId, jdbcType=VARCHAR}
			</if>
			<if test="channel_name != null and channel_name != ''">
				and p.channel_name like concat('%',#{channel_name},'%')  
			</if>
			<if test="card_type0 != null and card_type0 != ''">
				and pl0.card_type = #{card_type0, jdbcType=VARCHAR} and pl0.`status`='0'
			</if>
			<if test="card_type1 != null and card_type1 != ''">
				and pl1.card_type = #{card_type1, jdbcType=VARCHAR} and pl1.`status`='0'
			</if>
		</where>
		order by p.channel_code
	</select>
	
	<select id="PMPaychannel_selectLmitInfo" resultType="com.cninsure.payment.model.AcccimModel" parameterType="com.cninsure.payment.model.AcccimModel">
		select p.id,p.max_quota_per_time max_quota_per_time0,p.max_quota_per_day max_quota_per_day0,p.settlement_interval settlementInterval0,p.`status` status0
		from pmpaychannellmit p where p.id=#{id, jdbcType=VARCHAR}
	</select>
	<select id="PMPaychannel_getBankList" resultType="Map" >
		select * from pmpaychannel
	</select>
	<select id="PMPaychannel_getList" resultType="Map" parameterType="String">
		select * from pmappchannel where channel_id = #{id, jdbcType=BIGINT}
	</select>
	<select id="PMPaychannel_deleteAppBankLmit" parameterType="com.cninsure.payment.model.AcccimModel">
		delete from pmappchannellmit where app_channel_id in (select id from pmappchannel where channel_id=#{id, jdbcType=BIGINT})
	</select>
	<select id="PMPaychannel_deleteAppBankInfo" parameterType="com.cninsure.payment.model.AcccimModel">
		delete from pmappchannel where channel_id=#{id, jdbcType=BIGINT}  
	</select>
	<select id="PMPaychannel_getPlatformList" resultType="Map" >
		select * from pmappplatform
	</select>
	<insert id="PMPaychannel_saveAppChannel" parameterType="com.cninsure.payment.entity.PMAppchannel" useGeneratedKeys="true" keyProperty="id" >
		INSERT INTO `pmappchannel` (`createdate`, `modifydate`, `app_id`, `channel_id`, `payment_id`) VALUES (sysdate(),sysdate(),#{appId, jdbcType=BIGINT},#{channelId, jdbcType=BIGINT},#{paymentId, jdbcType=BIGINT})
	</insert>
	<select id="PMPaychannel_getBankLmitList" resultType="Map" >
		select * from pmpaychannellmit
	</select>
	<insert id="PMPaychannel_saveAppChannelLmit" parameterType="com.cninsure.payment.entity.PMAppchannellmit" useGeneratedKeys="true" keyProperty="id" >
		INSERT INTO `pmappchannellmit` (`createdate`, `modifydate`, `app_channel_id`, `max_quota_per_time`, `max_quota_per_day`, `card_type`,
		`status`,`settlement_interval`) VALUES (
		sysdate(),sysdate(),#{appChannelId, jdbcType=BIGINT},#{maxQuotaPerTime, jdbcType=INTEGER},
		 #{maxQuotaPerDay, jdbcType=INTEGER},#{cardType, jdbcType=CHAR},#{status, jdbcType=CHAR},#{settlementInterval, jdbcType=CHAR})
	</insert>
	<select id="PMPaychannel_updateChannel" parameterType="Map" resultType="int">
	    update pmappchannellmit 
	    set status='1',`modifydate`=SYSDATE()
	    where  app_channel_id in (SELECT pa.id from pmappchannel pa where pa.channel_id=#{id,jdbcType=BIGINT})
        and card_type=#{cardtype, jdbcType=CHAR}   

	</select>
	<select id="PMPaychannel_selectBankCodesByPaymentplatformIDChannelIds" parameterType="Map" resultType="String">
		select channel_code 
		from pmpaychannel
		where payment_id=#{paymentId}
		and id in
		<foreach collection="Ids" item="item" index="index" open="(" separator="," close=")">
			#{item}
		</foreach>
	</select>
	
	<select id="PMPaychannel_getPaymentIdByName" parameterType="Map" resultType="String">
		select id 
		from pmpaymentplatform
		where platform_name like concat('%',#{platform_name},'%')
	</select>
</mapper>